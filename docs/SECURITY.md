# Security Guidelines

## 環境変数の管理

### ローカル開発
1. `.env.local` ファイルを作成して環境変数を設定
2. 絶対に `.env` ファイルをコミットしない
3. `.env.example` を参考に必要な環境変数を設定

### 本番環境
- GitHub Secrets または環境変数管理サービスを使用
- APIトークンは適切なスコープ権限のみ付与

## Pre-commitフック

このプロジェクトはHuskyを使用して以下をチェックします：

1. **機密情報の検出**
   - Slackトークン（xoxp-, xoxb-）
   - APIキー（sk-, pk_）
   - パスワードやシークレット

2. **環境変数ファイル**
   - `.env` ファイルのコミットをブロック

3. **コード品質**
   - Biomeによる自動フォーマット

## セキュリティベストプラクティス

### APIトークン
- 最小権限の原則に従う
- 定期的にトークンをローテーション
- 使用しないトークンは削除

### コードレビュー
- 機密情報が含まれていないか確認
- 新しい依存関係のセキュリティをチェック

### 依存関係
```bash
# セキュリティ脆弱性をチェック
npm audit

# 脆弱性を修正
npm audit fix
```

## インシデント対応

もし機密情報を誤ってコミットした場合：

1. 該当するトークン/キーを即座に無効化
2. 新しいトークンを生成
3. Git履歴から機密情報を削除（必要に応じて）

## 報告

セキュリティ上の問題を発見した場合は、プライベートに報告してください。